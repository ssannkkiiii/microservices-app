# ๐ Microservices Translation App

ะัะบัะพัะตัะฒััะฝะฐ ะฐััััะตะบัััะฐ ะดะปั ะฟะตัะตะบะปะฐะดั ัะตะบัััะฒ ัะตัะตะท WebSocket ะท ะฒะธะบะพัะธััะฐะฝะฝัะผ RabbitMQ.

## ๐๏ธ ะััััะตะบัััะฐ

```
โโโโโโโโโโโ      โโโโโโโโโโโโโโโโ      โโโโโโโโโโโโ      โโโโโโโโโโโโโโโ      โโโโโโโโโโโโ
โ   UI    โโโโโโโถโ API Gateway  โโโโโโโถโ Backend  โโโโโโโถโ  RabbitMQ  โโโโโโโโGo Worker โ
โ (3000)  โ      โ    (8080)    โ      โ  (8000)  โ      โ   (5672)   โ      โ          โ
โโโโโโโโโโโ      โโโโโโโโโโโโโโโโ      โโโโโโโโโโโโ      โโโโโโโโโโโโโโโ      โโโโโโโโโโโโ
```

### ะะพะผะฟะพะฝะตะฝัะธ:

1. **UI** (Frontend) - ะัะพััะธะน ะฒะตะฑ-ัะฝัะตััะตะนั ะฝะฐ ะฟะพััั 3000
2. **API Gateway** - ะขะพัะบะฐ ะฒัะพะดั, ะฟัะพะบััั ะทะฐะฟะธัะธ ะดะพ backend (ะฟะพัั 8080)
3. **Backend** (Python/FastAPI) - ะะฑัะพะฑะปัั WebSocket ะท'ัะดะฝะฐะฝะฝั, ะฟัะฐััั ะท RabbitMQ
4. **RabbitMQ** - Message Broker ะดะปั ะฐัะธะฝััะพะฝะฝะพั ะบะพะผัะฝัะบะฐััั (ะฟะพััะธ 5672, 15672)
5. **Go Worker** - ะกะตัะฒัั ะฟะตัะตะบะปะฐะดั ะฝะฐ Go (ะพะฑัะพะฑะปัั ัะตัะณั translate_requests)

## ๐ ะะฐะฟััะบ

### ะะธะผะพะณะธ:
- Docker & Docker Compose
- Git

### ะะฝััััะบััั:

1. **ะะปะพะฝัะนัะต ัะตะฟะพะทะธัะพััะน** (ัะบัะพ ะฟะพัััะฑะฝะพ)

2. **ะะฐะฟัััััั ะฒัั ัะตัะฒััะธ:**
```bash
cd services
docker-compose up --build
```

3. **ะัะดะบัะธะนัะต ะฑัะฐัะทะตั:**
   - **Frontend UI**: http://localhost:3000
   - **RabbitMQ Management**: http://localhost:15672 (login: `guest` / password: `guest`)

## ๐ ะะธะบะพัะธััะฐะฝะฝั

1. ะัะดะบัะธะนัะต http://localhost:3000
2. ะะฒะตะดััั ัะตะบัั ะดะปั ะฟะตัะตะบะปะฐะดั
3. ะะธะฑะตัััั ะผะพะฒะธ (source/target)
4. ะะฐัะธัะฝััั "ะะตัะตะบะปะฐััะธ"
5. ะะตะทัะปััะฐั ะท'ัะฒะธัััั ะฒ ัะพะทะดัะปั "ะะตะทัะปััะฐัะธ ะฟะตัะตะบะปะฐะดั"

## ๐ ะขะตัััะฒะฐะฝะฝั

### ะะตัะตะฒััะบะฐ ะฒััั ัะตัะฒัััะฒ:

```bash
# ะะตัะตะฒััะบะฐ ััะฐัััั
docker-compose ps

# ะะพะณะธ ะฒััั ัะตัะฒัััะฒ
docker-compose logs -f

# ะะพะณะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒััั
docker-compose logs -f api-gateway
docker-compose logs -f backend
docker-compose logs -f go-worker
```

### Health checks:

- UI: http://localhost:3000
- API Gateway: http://localhost:8080/health
- RabbitMQ Management: http://localhost:15672

## ๐๏ธ ะขะตัะฝะพะปะพะณัั

- **Frontend**: HTML5, CSS3, Vanilla JavaScript
- **API Gateway**: FastAPI, WebSocket ะฟัะพะบััะฒะฐะฝะฝั
- **Backend**: FastAPI, aio-pika, WebSocket
- **Message Broker**: RabbitMQ
- **Worker**: Go (golang), amqp091-go
- **Containerization**: Docker, Docker Compose

## ๐ ะกัััะบัััะฐ ะฟัะพัะบัั

```
microservices-app/
โโโ api_gateway/          # API Gateway ัะตัะฒัั
โ   โโโ main.py
โ   โโโ requirements.txt
โ   โโโ Dockerfile
โโโ ui/                   # Frontend
โ   โโโ index.html
โ   โโโ Dockerfile
โโโ services/
โ   โโโ client/           # Backend (Python)
โ   โ   โโโ main.py
โ   โ   โโโ requirements.txt
โ   โ   โโโ Dockerfile
โ   โ   โโโ scr/
โ   โโโ translate/        # Go Worker
โ   โ   โโโ app.go
โ   โ   โโโ Dockerfile
โ   โโโ docker-compose.yml
โโโ README.md
```

## ๐ ะะพััะบ ะดะฐะฝะธั

1. ะะพัะธัััะฒะฐั ะฒัะดะฟัะฐะฒะปัั ัะตะบัั ัะตัะตะท UI
2. UI ะฟัะดะบะปััะฐััััั ะดะพ API Gateway ัะตัะตะท WebSocket (ws://localhost:8080/ws)
3. API Gateway ะฟัะพะบััั ะทะฐะฟะธั ะดะพ Backend (ws://backend:8000/ws)
4. Backend ััะฒะพััั reply queue ัะฐ ะฒัะดะฟัะฐะฒะปัั ะทะฐะฟะธั ั RabbitMQ ัะตัะณั `translate_requests`
5. Go Worker ะพััะธะผัั ะฟะพะฒัะดะพะผะปะตะฝะฝั, ะฟะตัะตะบะปะฐะดะฐั ัะตะบัั ัะฐ ะฒัะดะฟัะฐะฒะปัั ะฒัะดะฟะพะฒัะดั ั reply queue
6. Backend ะพััะธะผัั ะฒัะดะฟะพะฒัะดั ัะฐ ะฒัะดะฟัะฐะฒะปัั ัั ัะตัะตะท WebSocket
7. API Gateway ะฟัะพะบััั ะฒัะดะฟะพะฒัะดั ะดะพ UI
8. UI ะฒัะดะพะฑัะฐะถะฐั ัะตะทัะปััะฐั ะบะพัะธัััะฒะฐัั

## ๐ ะัะฟะธะฝะบะฐ

```bash
cd services
docker-compose down
```

ะะปั ะฟะพะฒะฝะพะณะพ ะฒะธะดะฐะปะตะฝะฝั (ะทะพะฑัะฐะถะตะฝะฝั ัะฐ volumes):
```bash
docker-compose down -v --rmi all
```

## ๐ ะะพะฝััะพัะธะฝะณ

- **RabbitMQ Management UI**: http://localhost:15672
  - ะะตัะตะณะปัะฝััะธ ัะตัะณะธ
  - ะะพะฝััะพัะธัะธ ะฟะพะฒัะดะพะผะปะตะฝะฝั
  - ะะตัะตะฒััะธัะธ ะท'ัะดะฝะฐะฝะฝั

## ๐ Troubleshooting

### WebSocket ะฝะต ะฟัะดะบะปััะฐััััั:
- ะะตัะตะฒัััะต, ัะธ ะทะฐะฟััะตะฝั ะฒัั ัะตัะฒััะธ: `docker-compose ps`
- ะะตัะตะฒัััะต ะปะพะณะธ: `docker-compose logs api-gateway backend`

### ะะตัะตะบะปะฐะด ะฝะต ะฒัะดะพะฑัะฐะถะฐััััั:
- ะะตัะตะฒัััะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ (F12)
- ะะตัะตะฒัััะต ะปะพะณะธ backend ัะฐ go-worker
- ะะตัะตะบะพะฝะฐะนัะตัั, ัะพ RabbitMQ ะฟัะฐััั

### ะะพะผะธะปะบะธ ะฟัะดะบะปััะตะฝะฝั:
- ะะตัะตะทะฐะฟัััััั ัะตัะฒััะธ: `docker-compose restart`
- ะะตัะตะฒัััะต ะผะตัะตะถั Docker: `docker network ls`

## ๐ ะัะธะผััะบะธ

- Backend ะฑัะปััะต ะฝะต ะตะบัะฟะพัััั ะฟะพัั 8000 ะฝะฐะฟััะผั - ะดะพัััะฟ ััะปัะบะธ ัะตัะตะท API Gateway
- API Gateway ะผะฐั CORS ะดะปั ัะพะฑะพัะธ ะท UI
- Go Worker ะผะฐั retry ะปะพะณัะบั ะดะปั ะฟัะดะบะปััะตะฝะฝั ะดะพ RabbitMQ
- ะัั ัะตัะฒััะธ ะฐะฒัะพะผะฐัะธัะฝะพ ะฟะตัะตะทะฐะฟััะบะฐััััั ะฟัะธ ะฟะพะผะธะปะบะฐั
